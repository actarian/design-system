import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';
import { Activity, Airplay, AlertCircle, AlertOctagon, AlertTriangle, AlignCenter, AlignJustify, ShoppingCart } from '@icons';
import { Icons } from './icons';
import { Container, Flex, Text, Card, Media, Grid } from '@components';
import { createElement, lazy, Suspense, useMemo, useState } from 'react';

<Meta
  title="Icons"
  component={ShoppingCart}
  argTypes={{ }}
  parameters={{
    backgrounds: { disable: true, grid: { disable: true } },
  }}
/>

# Icons

Used to trigger an operation.

[View source](https://github.com/actarian/wsdesign-system/tree/main/@icons)

## Imports

```js
import { ShoppingCart } from '@wsdesign-system';
```

## Icons List

The list of `Icons` available.

export const IconsList = ({ data, ...args }) => {
  const iconsList = useMemo(() => {
    return Object.keys(Icons).map(key => {
      return { key, component: Icons[key] };
    });
  }, []);
  const [visibleIcons, setVisibleIcons] = useState(iconsList);
  function onSearch(event) {
    const query = event.target.value.toLowerCase();
    // console.log(query);
    const icons = iconsList.filter(x => x.key.toLowerCase().indexOf(query) !== -1);
    setVisibleIcons(icons);
  }
  return (
  <>
    <Container>
      <Grid.Row padding="32px 0">
        <Grid>
          <Text type="h4">Search Icon</Text>
          <input name="search" style={{ width: '100%', fontSize: '20px', lineHeight: '1.6' }} onChange={onSearch} />
          <Flex.Row>
            {visibleIcons.map(icon => (
              <Flex key={icon.key}>
                <Card type="alfa" width="180px">
                  <Media height="64px">
                    <Suspense fallback={<div>Loading...</div>}>{createElement(icon.component, {})}</Suspense>
                  </Media>
                  <Card.Content alignItems="center">
                    <Text type="smaller">{icon.key}</Text>
                  </Card.Content>
                </Card>
              </Flex>
            ))}
          </Flex.Row>
        </Grid>
      </Grid.Row>
    </Container>
  </>
  )
};

<Canvas>
  <Story name="icons" parameters={{
    docs: {
      source: {
        code: `import { ShoppingCart } from '@wsdesign-system';
        <ShoppingCart />
        `,
        language: "tsx",
        type: "auto",
      }
    },
  }}>
    {IconsList.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="example">
    <Container>
      <Flex.Row padding="1em">
        <Flex><Activity /></Flex>
        <Flex><Airplay /></Flex>
        <Flex><AlertCircle /></Flex>
        <Flex><AlertOctagon /></Flex>
        <Flex><AlertTriangle /></Flex>
        <Flex><AlignCenter /></Flex>
        <Flex><AlignJustify /></Flex>
      </Flex.Row>
    </Container>
  </Story>
</Canvas>
