import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';
import { Box, Code, Container, Flex, List, Text } from '@components';
import { useBreakpoint } from '@hooks';
import { useContext } from 'react';
import { ThemeContext } from 'styled-components';

<Meta
  title="Typography"
  decorators={[(story) => (
    <div style={ { padding: '0' } }>
      { story() }
    </div>
  )]}
  parameters={{
    backgrounds: { disable: true, grid: { disable: true } },
  }}
/>

# Typography

export const Typography = ({ data, ...args }) => {
  const theme = useContext(ThemeContext);
  const renderText = (key, k, size, s) => {
    switch(key) {
      case 'primary':
        return (<>
          <Text type={s + 1} textTransform="capitalize">{key} {s + 1}</Text>
        </>);
        case 'secondary':
          return (<>
          <Text.Secondary type={s + 1} textTransform="capitalize">{key} {s + 1}</Text.Secondary>
        </>);
        default:
        return null;
    }
  }
  const breakpoint = useBreakpoint();
  const remToPx = (size) => {
    return parseFloat(size) * parseFloat(theme.base.fontSize[breakpoint.key]);
  }
  return (
    <Container padding="3rem 0">
      {Object.keys(theme.font).map((key, k) => (
        <Box key={k} paddingBottom="3rem">
          <Code>{theme.font[key].family}</Code>
          {theme.font[key].size.map((size, s) => (
            <List key={s}>
              {renderText(key, k, size, s)}
              <Flex.Row justifyContent="space-between" paddingTop="1rem">
                <Code>{size}</Code>
                <Code>{remToPx(size)}px</Code>
              </Flex.Row>
            </List>
          ))}
        </Box>
      ))}
    </Container>
  );
};

<Canvas>
  <Story name="Typography">
    {Typography.bind({})}
  </Story>
</Canvas>
