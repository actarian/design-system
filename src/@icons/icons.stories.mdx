import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';
import { Activity, Airplay, AlertCircle, AlertOctagon, AlertTriangle, AlignCenter, AlignJustify, ShoppingCart } from '@icons';
import { Icons } from './icons';
import { Container, Flex, Text, Card, Media, Grid } from '@components';
import { Input } from '@forms';
import { createElement, lazy, Suspense, useMemo, useState } from 'react';

<Meta
  title="Icons"
  component={ShoppingCart}
  argTypes={{ }}
  parameters={{
    backgrounds: { disable: true, grid: { disable: true } },
    docs: {
      page: null,
    },
  }}
/>

# Icons

Used to trigger an operation.

[View source](https://github.com/actarian/design-system/tree/main/@icons/icons)

## Imports

```js
import { ShoppingCart } from '@design-system';
```

## Icons List

The list of `Icons` available.

export const IconsList = ({ data, ...args }) => {
  const iconsList = useMemo(() => {
    return Object.keys(Icons).map(key => {
      return { key, component: Icons[key] };
    });
  }, []);
  const [visibleIcons, setVisibleIcons] = useState(iconsList);
  function onSearch(event) {
    const query = event.target.value.toLowerCase();
    // console.log(query);
    const icons = iconsList.filter(x => x.key.toLowerCase().indexOf(query) !== -1);
    setVisibleIcons(icons);
  }
  return (
    <Container>
      <Grid.Row padding="32px 0">
        <Grid>
          <Text type="4" fontWeight="700" marginBottom="2rem">Search Icon</Text>
          <Input name="search" placeholder="start typing..." onChange={onSearch} marginBottom="2rem" />
          <Flex.Row gap="1rem" justifyContent="center">
            {visibleIcons.map(icon => (
              <Card key={icon.key} type="alfa" flexGrow="1" width="180px" padding="0.5rem" border="2px solid var(--color-neutral-200)">
                <Media height="64px">
                  <Suspense fallback={<div>Loading...</div>}>{createElement(icon.component, {})}</Suspense>
                </Media>
                <Card.Content alignItems="center">
                  <Text type="9">{icon.key}</Text>
                </Card.Content>
              </Card>
            ))}
          </Flex.Row>
        </Grid>
      </Grid.Row>
    </Container>
  )
};

<Canvas>
  <Story name="Icons" parameters={{
    docs: {
      source: {
        code: `import { ShoppingCart } from '@design-system';
        <ShoppingCart />
        `,
        language: "tsx",
        type: "auto",
      }
    },
  }}>
    {IconsList.bind({})}
  </Story>
</Canvas>

<!--
<Canvas>
  <Story name="example">
    <Container>
      <Flex.Row gap="1rem" padding="1rem">
        <Flex><Activity /></Flex>
        <Flex><Airplay /></Flex>
        <Flex><AlertCircle /></Flex>
        <Flex><AlertOctagon /></Flex>
        <Flex><AlertTriangle /></Flex>
        <Flex><AlignCenter /></Flex>
        <Flex><AlignJustify /></Flex>
      </Flex.Row>
    </Container>
  </Story>
</Canvas>
-->
